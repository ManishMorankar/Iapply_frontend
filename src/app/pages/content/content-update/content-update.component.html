<!-- Content Update for Standard User Start Here -->
<div class="edit_page" *ngIf=" currentUserType == 'Standard'">
   <div class="page_head">
      <h2>CONTENT UPDATE</h2>
   </div>
   <div class="row">
      <div class="col-md-12 mb-3 ">
         <div class="subhead"><p>Below Section shows list of pages which will have content for update. on click of edit page will be redirect to HTML editor where user can update the content and send the approval request.</p>
         </div>
      </div>
      <form [formGroup]="filterFormStandardPage">
      <div class="col-md-12">
         <div class="row filter_5_col">

            <div class="col-md-3">
               <div class="subhead "><h4>Select Section:</h4> </div>
               <div class="form-holder1 w-100 p-0 mb-4">
                  <div class="input-group">
                   <select [(ngModel)]="selectedPageName1" (change)="onPageNameSelect()" class="form-control" formControlName="page">
                      <option value="" selected>Select Page</option>
                      <option *ngFor="let item of pageNameArray" [value]="item?.url">{{item?.name}}</option>
                   </select>
                  </div>
               </div>
            </div>
            <div class="col-md-9">
               <div class="btm_btn mt-4 mb-4">
            <div class="d-flex justify-content-start">

                  <!-- <a class="continue pe-4 ps-4 ms-3">SEARCH</a><a class="back ps-4 pe-4 ms-3">RESET FILTER</a> -->
           <button type="button" (click)="searchFilter_StandardPages()" class="btn btn-primary continue mr-3">SEARCH</button>
           <button type="button" (click)="clearFilter()" class="btn btn-success  back">RESET FILTER</button>
             </div>
            </div>
            </div>


         </div>

      </div>
    </form>
       <div class="col-md-12">
         <ngx-datatable class="table table-striped table-hover"
                  [rows]="tempPageNameArray"
                  [columnMode]="'force'"
                  [headerHeight]="60"
                  [footerHeight]="50"
                  [rowHeight]="'auto'"
                  [limit]="10">
       <ngx-datatable-column name="Page Name" [width]="280" prop="name" >
       <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
       </ng-template>
     </ngx-datatable-column>

     <ngx-datatable-column name="Edit Page Content">
       <ng-template let-row="row" ngx-datatable-cell-template>
         <div class="btn-toolbar">
           <!-- <button class="btn btn-xs btn-info" (click)="gotoRequestDetails(row)">
             <span class="d-none d-md-inline-block" >View</span>
             <span class="d-md-none"><i class='la la-edit'></i></span>
           </button> -->
           <a (click)="gotoPages(row)" class="view_btn">EDIT</a>
         </div>
       </ng-template>
     </ngx-datatable-column>
   </ngx-datatable>

      </div>
   </div>

   <div class="row">
      <div class="col-md-12 mt-4">
         <div class="subhead">
            <h4>CONTENT UPDATE HISTORY</h4>
            <p>Below section shows list of content update requests. Below table shows list of approved and rejected content request.</p>
         </div>
      </div>

      <form [formGroup]="filterFormStandardContentUpdateHistory">
      <div class="col-md-12">
         <div class="row filter_5_col">

            <div class="col-md-3">
               <div class="subhead "><h4>Select Page:</h4> </div>
               <div class="form-holder1 w-100 p-0 mb-4">
                  <div class="input-group">
                     <!-- <button (click)="exportToExcel()" class="btn btn-success float-right mb-3 ml-2">Export To Excel</button> -->
                      <select [(ngModel)]="selectedPageName" class="form-control" formControlName="page">
                         <option value="" selected>Select Page</option>
                         <option *ngFor="let item of pageNameArray" [value]="item?.url">{{item?.name}}</option>
                      </select>
                  </div>
               </div>
            </div>
            <div class="col-md-9">
               <div class="btm_btn mt-4 mb-4">
            <div class="d-flex justify-content-start">

                  <!-- <a class="continue pe-4 ps-4 ms-3">SEARCH</a> -->
                  <button type="button" (click)="searchFilter()" class="btn btn-primary continue mr-3">SEARCH</button>
             </div>
            </div>
            </div>


         </div>

      </div>
    </form>

       <div class="col-md-12">

   <ngx-datatable class="table table-striped table-hover"
                  [rows]="tempContentUpdateRequestListStandard"
                  [columnMode]="'force'"
                  [headerHeight]="60"
                  [footerHeight]="50"
                  [rowHeight]="'auto'"
                  [limit]="10">
       <ngx-datatable-column name="Page Name" [width]="280" prop="pageName" >
       <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
       </ng-template>
     </ngx-datatable-column>
     <ngx-datatable-column name="Request Submitted By" prop="requestSubmittedby" [width]="280">
       <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
       </ng-template>
     </ngx-datatable-column>
     <ngx-datatable-column name="Status"  prop="status" [width]="280">
       <ng-template let-value="value" ngx-datatable-cell-template>
        {{value}}
       </ng-template>
     </ngx-datatable-column>
     <ngx-datatable-column name="Comment" prop="description" [width]="280">
       <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
       </ng-template>
     </ngx-datatable-column>
     <ngx-datatable-column name="Request Date" prop="requestDate" [width]="280">
       <ng-template let-value="value" ngx-datatable-cell-template>
          {{ value | date: 'dd-MMM-yyyy' }}
       </ng-template>
     </ngx-datatable-column>

     <ngx-datatable-column name="Action">
       <ng-template let-row="row" ngx-datatable-cell-template>
         <div class="btn-toolbar">
           <!-- <button class="btn btn-xs btn-info" (click)="gotoRequestDetails(row)">
             <span class="d-none d-md-inline-block" >View</span>
             <span class="d-md-none"><i class='la la-edit'></i></span>
           </button> -->
           <a (click)="gotoRequestDetails(row)" class="view_btn">VIEW</a>
         </div>
       </ng-template>
     </ngx-datatable-column>
   </ngx-datatable>
      </div>
   </div>
 </div>
 <!-- Content Update for Standard User End Here -->


 <!-- Content Update for Admin User Start Here -->
 <div   *ngIf=" currentUserType == 'Admin'">
    <div class="page_head">
       <h2>UPDATE CONTENT</h2>
    </div>
    <div class="row mt-4">
        <div class="col-md-12 mb-3 ">
          <div class="subhead">

             <p>Below Screen shows list of content update requests. on click of approve Admin will redirect to another page where admin where review the changes and take appropriate action. to search specific page admin can use below field and search with combination.</p>
          </div>
       </div>
       <form [formGroup]="filterFormAdmin">
       <div class="col-md-12">

          <div class="row filter_6_col">
             <div class="col-md-4 form-holder">
                <label class="relative-label blue-color ">Select Page</label>
                <div class="form-holder1 w-100 p-0 mb-4">
                   <div class="input-group">
                      <select [(ngModel)]="selectedPageName" class="form-control custom-select" formControlName="page">
                         <option value="" selected>Select Page Name</option>
                         <option *ngFor="let item of pageNameArray" [value]="item?.url">{{item?.name}}</option>
                       </select>
                   </div>
                </div>
             </div>
             <div class="col-md-4 form-holder">
                <label class="relative-label blue-color ">User</label>
                <div class="form-holder1 w-100 p-0 mb-4">
                   <div class="input-group">
                      <select class="form-control custom-select" formControlName="user">
                         <option selected>All</option>
                         <option *ngFor="let user of UserDetails" value="{{user.userDetailsId}}">{{user.firstName}} {{user.lastName}}</option>
                      </select>
                   </div>
                </div>
             </div>
             <div class="col-md-4 form-holder">
                <label class="relative-label blue-color ">Status</label>
                <div class="form-holder1 w-100 p-0 mb-4">
                   <div class="input-group">
                      <select class="form-control custom-select" formControlName="status">
                         <!-- <option value="">--Select--</option> -->
                         <option selected>All</option>
                         <option value="Pending">Pending</option>
                         <option value="Approved">Approved</option>
                         <option value="Rejected">Rejected</option>
                      </select>
                   </div>
                </div>
             </div>



             <div class="col-md-12 form-holder ">
               <label class="relative-label blue-color ">&nbsp;</label>
                <div class="btm_btn float-right">
                <div class="d-flex justify-content-between">
                       <div class="d-flex">
                      <!-- <a class="continue pe-4 ps-4 ms-3">SEARCH</a><a class="back ps-4 pe-4 ms-3">RESET FILTER</a> -->
          <button type="button" (click)="searchFilter()" class="btn btn-primary continue mr-3">SEARCH</button>
          <button type="button" (click)="clearFilter()" class="btn btn-success  back">RESET FILTER</button>
                      </div>
                   </div>
             </div>
             </div>
          </div>
       </div>
       </form>
       <div class="col-md-12 mb-3 mt-4">
          <div class="subhead">
             <h4 class="d-md-flex align-items-center justify-content-between">User List <span><a (click)="exportData()">Export <img src="./assets/images/dashboard/file-export.svg"></a></span></h4>
          </div>
       </div>
       <div class="col-md-12">
          <ngx-datatable class="table table-striped table-hover"
                  [rows]="tempContentUpdateRequestList"
                  [columnMode]="'force'"
                  [headerHeight]="60"
                  [footerHeight]="50"
                  [rowHeight]="'auto'"
                  [limit]="10">
       <ngx-datatable-column name="Page Name" [width]="280" prop="pageName" >
       <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
       </ng-template>
     </ngx-datatable-column>
     <ngx-datatable-column name="Reason for Update" prop="description" [width]="280">
       <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
       </ng-template>
     </ngx-datatable-column>
     <ngx-datatable-column name="Request Submitted By" prop="requestSubmittedby" [width]="280">
       <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
       </ng-template>
     </ngx-datatable-column>
     <ngx-datatable-column name="Status"  prop="status" [width]="280">
       <ng-template let-value="value" ngx-datatable-cell-template>
        {{value}}
       </ng-template>
     </ngx-datatable-column>

     <ngx-datatable-column name="Request Date" prop="requestDate" [width]="280">
       <ng-template let-value="value" ngx-datatable-cell-template>
           {{ value | date: 'dd-MMM-yyyy' }}
       </ng-template>
     </ngx-datatable-column>

     <ngx-datatable-column name="Action">
       <ng-template let-row="row" ngx-datatable-cell-template>
         <div class="btn-toolbar" style="min-width: 100px;">
           <!-- <button *ngIf="row['status']=='Pending'" class="btn btn-xs btn-info" (click)="gotoRequestDetails(row)">
             <span class="d-none d-md-inline-block" >Approve</span>
             <span class="d-md-none"><i class='la la-edit'></i></span>
           </button>

           <button *ngIf="row['status']=='Approved'" class="btn btn-xs btn-info" (click)="gotoRequestDetails(row)">
             <span class="d-none d-md-inline-block" >-</span>
             <span class="d-md-none"><i class='la la-edit'></i></span>
           </button> -->

           <a *ngIf="row['status']=='Pending'" (click)="gotoRequestDetails(row)" class="view_btn">
             Approve
           </a>

           <p *ngIf="row['status']=='Approved'" >
             -
           </p>
         </div>
       </ng-template>
     </ngx-datatable-column>
   </ngx-datatable>

       </div>
       <div class="alert alert-danger alert-dismissible fade " role="alert">
          <i class="fas fa-exclamation-circle"></i> Your Payment Has Been Unsuccessful, Please Try To Make Payment Again
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
          </button>
       </div>
    </div>
 </div>
 <!-- Content Update for Admin User End Here -->



