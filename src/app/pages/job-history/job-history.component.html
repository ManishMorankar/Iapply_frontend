<div class="page_head">
  <h2>JOB HISTORY</h2>
</div>
<form [formGroup]="filterForm">

    <div class="row">
      <!-- <div class="col-md-2">
     <div class="subhead "><h4>Job Title</h4> </div>
     <div class="form-holder1 w-100 p-0 mb-4">
       <div class="input-group">
         <select>
           <option>Chief Architect</option>
           <option>Lorem ipsum</option>
         </select>
       </div>
     </div>
   </div>-->
      <div class="col-md-4 col-lg-3 form-holder">
        <label class="relative-label blue-color">Country:</label>
        <div class="form-holder1 w-100 p-0 mb-4">
          <div class="input-group">
            <select formControlName="Country" name="Country" id="Country" placeholder="Select Country" class="custom-select form-control" data-parsley-trigger="change">
              <option selected>All</option>
              <option *ngFor="let p of CountryList" value="{{p}}">
                {{p}}
              </option>
            </select>
          </div>
        </div>
      </div>
      <div class="col-md-4 col-lg-3 form-holder">
        <label class="relative-label blue-color">Job Title:</label>
        <div class="form-holder1 w-100 p-0 mb-4">
          <div class="input-group">
            <select formControlName="JobTitle" name="JobTitle" id="JobTitle" placeholder="Select Job Title" class="custom-select form-control" data-parsley-trigger="change">
              <option selected>All</option>
              <option *ngFor="let p of JobTitleList" value="{{p}}">
                {{p}}
              </option>
            </select>
          </div>
        </div>
      </div>
      <div class="col-md-4 col-lg-3 form-holder">
        <label class="relative-label blue-color">From Date:</label>
        <div class="form-holder1 w-100 p-0 mb-4">
          <div class="input-group">
            <input type="date" formControlName="FromDate" name="FromDate" id="FromDate" placeholder="Enter From Date" class="form-control" data-parsley-trigger="change">
          </div>
        </div>
      </div>
      <div class="col-md-4 col-lg-3 form-holder">
        <label class="relative-label blue-color">To Date:</label>
        <div class="form-holder1 w-100 p-0 mb-4">
          <div class="input-group">
            <input type="date" formControlName="ToDate" name="ToDate" id="ToDate" placeholder="Enter To Date" class="form-control" data-parsley-trigger="change">
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-12 float-right text-end">
        <div class="btm_btn mt-1 job_his_serch">

            <button type="button"  (click)="searchFilter()" class="btn btn-primary continue mr-3">SEARCH</button>
            <button type="button"  (click)="clearFilter()" class="btn btn-success  back">RESET FILTER</button>

        </div>
      </div>
    </div>

</form>
<div class="row">
<div class="col-md-12 mb-3 mt-4">
  <div class="subhead">
    <h4 class="d-md-flex align-items-center justify-content-between">JOB HISTORY <span><a (click)="exportData()">Export  <i class="fas fa-file-export"></i></a></span></h4>
  </div>
</div>
</div>
  <ngx-datatable class="table table-striped table-hover"
                 [rows]="TempJobHistoryDetails"
                 [columnMode]="'force'"
                 [headerHeight]="60"
                 [footerHeight]="50"
                 [rowHeight]="'auto'"
                 [limit]="10">
                 <ngx-datatable-column name="Job Applied Date" prop="jobAppliedDate" [width]="100">
                  <ng-template let-value="value" ngx-datatable-cell-template>
                    <!-- {{ value }} -->
                    {{ value | date: 'dd-MMM-yyyy' }}
                  </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Company Name" prop="companyName">
                  <ng-template let-value="value" ngx-datatable-cell-template>
                    {{value}}
                  </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Job Title" prop="jobTitle" >
                   <ng-template let-value="value" ngx-datatable-cell-template>
                     {{value}}
                   </ng-template>
                 </ngx-datatable-column>
                <ngx-datatable-column name="Location" prop="countryCode">
                  <ng-template let-value="value" ngx-datatable-cell-template>
                    {{value}}
                  </ng-template>
                </ngx-datatable-column>

                <ngx-datatable-column name="Job Description" *ngIf="SubscrptionPlan=='Standard'">
                  <ng-template let-row="row" ngx-datatable-cell-template>
                    <!-- <a class="view_btn" href="{{value}}">View</a> -->
                    <a (click)="getJobDescription(row)" data-bs-toggle="modal" data-bs-target="#ViewData" class="view_btn">View</a>
                  </ng-template>
                </ngx-datatable-column>
              </ngx-datatable>


  <div class="modal fade" id="ViewData" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog  modal-dialog-centered ">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">JOB DESCRIPTION</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><i class="fas fa-times"></i></button>
        </div>
        <div class="modal-body">
         <h4>Job Description Data :-</h4>
        <p>Description :-- {{JobDescriptionData}}</p>
       <p>URL:-- <a href="{{JobDescriptionurl}}" target="_blank">{{JobDescriptionurl}}</a></p>
        </div>

      </div>
    </div>
   </div>
